<html>

<head>
  <link href="/css/styles.css" type="text/css" rel="stylesheet" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <script>
    function details(id, name) {
      document.getElementById("txtID").value = id;
      document.getElementById("txtName").value = name;
      document.getElementById("btnUpdate").style.display = "inline";
      document.getElementById("btnDelete").style.display = "inline";
    }
  </script>
  <!-- <style>
    body{
      background-image: url("https://png.pngtree.com/element_our/20190528/ourmid/pngtree-decorative-border-gold-photo-frame-image_1159866.jpg");
    }
  </style> -->
</head>

<body class="container">
  <%- include('./_menu.ejs') %>
  <div class="row">
    <div class="col border m-3 p-3">
        <h2 class="text-center">CATEGORY LIST</h2>
        <table class="datatable" border="1">
          <tr class="datatable">
            <th>ID</th>
            <th>Name</th>
          </tr>
          <%  for (var item of cats) {  %>
          <tr class="datatable" onclick="details('<%=item._id%>', '<%=item.name%>')">
            <th><%=item._id%></th>
            <td><%=item.name%></td>
          </tr>
          <%  } %>
        </table>
      </div>
    <div class="col align-center border m-3 p-3">
        <h2 class="text-center">CATEGORY DETAIL</h2>
        <form method="POST" class="align-center">
          <table>
            <tr>
              <td>ID</td>
              <td><input type="text" id="txtID" name="txtID" readonly /></td>
            </tr>
            <tr>
              <td>Name</td>
              <td><input type="text" id="txtName" name="txtName" required />
              </td>
            </tr>
            <tr>
              <td>
                <input type="submit" formaction="./addcategory" value="ADD NEW" />
                <input type="submit" formaction="./updatecategory" value="UPDATE" id="btnUpdate" style="display: none" />
                <input type="submit" formaction="./deletecategory" value="DELETE" id="btnDelete" style="display: none" onclick="return confirm('ARE YOU SURE?')" />
              </td>
            </tr>
          </table>
        </form>
    </div>
  </div>
</body>

</html>